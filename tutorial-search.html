<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial Pesquisa</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-search.css">
</head>
<body>

    <div class="app-container">
        <div class="tutorial-screen search-bg">
            
            <div class="search-home-screen" id="search-home-screen">
                <div class="search-logo">
                    <span>C</span><span>o</span><span>n</span><span>e</span><span>c</span><span>t</span><span>a</span>
                </div>
                <div class="search-bar-container">
                    <input type="text" class="search-input" id="target-input" placeholder="Digite aqui...">
                    
                    <button class="mic-button" id="target-mic-button">üé§</button>
                    
                    <button class="search-button" id="target-search-button">üîç</button>
                </div>
            </div>

            <div class="results-screen" id="results-screen">
                <header class="results-header">
                    <a href="#" id="back-button">‚Üê</a>
                    <input type="text" id="results-search-bar" readonly>
                </header>
                
                <div class="results-list" id="results-list-container">
                    </div>
            </div>

            <div class="voice-search-overlay" id="voice-overlay">
                <span>üé§</span>
                <p>Ouvindo...</p>
            </div>


            <div class="help-popup" id="popup-1" style="display: block; top: 250px;">
                <span class="popup-close">X</span>
                <p>Bem-vindo ao treino de Pesquisa! üîç</p>
                <p>Voc√™ pode **digitar na barra** ou **clicar no microfone (üé§)** para pesquisar com a voz.</p>
            </div>

            <div class="help-popup" id="popup-text" style="top: 250px;">
                <span class="popup-close">X</span>
                <p>Ok, vamos digitar!</p>
                <p>Para este treino, **digite "receita de bolo"** e **clique no bot√£o azul (üîç)**.</p>
            </div>

            <div class="help-popup" id="popup-voice" style="top: 250px; z-index: 120;">
                <span class="popup-close">X</span>
                <p>Simulando pesquisa por voz!</p>
                <p>Vamos pesquisar "receita de bolo" para voc√™.</p>
            </div>

            <div class="help-popup" id="popup-results" style="top: 150px;">
                <span class="popup-close">X</span>
                <p>Aqui est√£o seus resultados! üìÑ</p>
                <p>Cada item √© um site. Voc√™ pode ler o **t√≠tulo em azul** e a **descri√ß√£o em cinza** para ver qual √© o melhor.</p>
                <button onclick="proximaEtapa('popup-final')">Entendido!</button>
            </div>

            <div class="help-popup" id="popup-final" style="top: 200px;">
                <span class="popup-close">X</span>
                <p>Tutorial Conclu√≠do! ‚úÖ</p>
                <p>Voc√™ aprendeu a pesquisar. Lembre-se de clicar nos t√≠tulos azuis para visitar os sites.</p>
                <button onclick="window.location.href='index.html'">Voltar ao Menu</button>
            </div>
            
        </div>
    </div>

    <script>
        // --- Pegando todos os elementos ---
        const searchHomeScreen = document.getElementById('search-home-screen');
        const resultsScreen = document.getElementById('results-screen');
        const targetInput = document.getElementById('target-input');
        const targetSearchButton = document.getElementById('target-search-button');
        const backButton = document.getElementById('back-button');
        const resultsSearchBar = document.getElementById('results-search-bar');
        const resultsListContainer = document.getElementById('results-list-container');
        
        // Novos elementos de voz
        const targetMicButton = document.getElementById('target-mic-button');
        const voiceOverlay = document.getElementById('voice-overlay');

        // --- NOSSOS RESULTADOS FALSOS ---
        const fakeResultsHTML = `
            <div class="result-item">
                <p class="result-url">receitas.com.br</p>
                <h3 class="result-title">Receita de Bolo de Chocolate Fofinho</h3>
                <p class="result-desc">A melhor receita de bolo de chocolate que voc√™ j√° viu! Simples, r√°pido e muito fofinho. Perfeito para o caf√© da tarde.</p>
            </div>
            <div class="result-item">
                <p class="result-url">tudogostoso.com.br</p>
                <h3 class="result-title">Bolo de Cenoura com Cobertura</h3>
                <p class="result-desc">Encontre aqui a receita de bolo de cenoura mais famosa, com uma cobertura de chocolate que derrete na boca.</p>
            </div>
            <div class="result-item">
                <p class="result-url">wikipedia.org</p>
                <h3 class="result-title">Bolo - Wikip√©dia, a enciclop√©dia livre</h3>
                <p class="result-desc">Um bolo √© um alimento de massa doce, frequentemente com recheio ou cobertura. A hist√≥ria do bolo remonta √† antiguidade...</p>
            </div>
        `;

        const noResultsHTML = `
            <div class="result-item">
                <p class="result-desc">Nenhum resultado encontrado para sua pesquisa. Tente novamente com outros termos.</p>
            </div>
        `;


        // --- Fun√ß√£o Helper: Controla os Popups ---
        function proximaEtapa(idDoProximoPopup) {
            document.querySelectorAll('.help-popup').forEach(popup => {
                popup.style.display = 'none';
            });
            if (idDoProximoPopup) {
                document.getElementById(idDoProximoPopup).style.display = 'block';
            }
        }

        // --- Fun√ß√£o Helper: Executa a Pesquisa ---
        function performSearch() {
            const query = targetInput.value.toLowerCase(); // Converte para min√∫sculas
            
            if (query.trim() === '') {
                 alert('Por favor, digite algo para pesquisar!');
                 return;
            }
            
            if (query.includes('bolo') || query.includes('receita')) {
                resultsListContainer.innerHTML = fakeResultsHTML;
            } else {
                resultsListContainer.innerHTML = noResultsHTML;
            }
            
            searchHomeScreen.style.display = 'none';
            resultsScreen.style.display = 'flex';
            resultsSearchBar.value = targetInput.value;
            targetInput.blur(); // Esconde o teclado
            proximaEtapa('popup-results');
        }

        // --- L√ìGICA DO TUTORIAL ---

        // ETAPA 1.1: Clicar na barra de pesquisa (Modo Texto)
        targetInput.addEventListener('click', function() {
            proximaEtapa('popup-text');
        });

        // ETAPA 1.2: Clicar no bot√£o de pesquisar (Modo Texto)
        targetSearchButton.addEventListener('click', function() {
            performSearch();
        });

        // ETAPA 2: Clicar no microfone (Modo Voz)
        targetMicButton.addEventListener('click', function() {
            proximaEtapa('popup-voice');
            voiceOverlay.style.display = 'flex'; // Mostra a tela "Ouvindo..."

            // Simula o tempo de "ouvir" e "processar"
            setTimeout(function() {
                // Auto-preenche a barra
                targetInput.value = 'receita de bolo';
                
                // Esconde a tela "Ouvindo..."
                voiceOverlay.style.display = 'none';
                
                // Executa a pesquisa
                performSearch();
            }, 3000); // Espera 3 segundos
        });


        // Bot√£o de Voltar (na tela de resultados)
        backButton.addEventListener('click', function(e) {
            e.preventDefault(); 
            resultsScreen.style.display = 'none';
            searchHomeScreen.style.display = 'flex';
            targetInput.value = '';
            proximaEtapa('popup-1');
        });

        // Inicia o tutorial
        document.addEventListener('DOMContentLoaded', function() {
            proximaEtapa('popup-1');

            document.querySelectorAll('.popup-close').forEach(button => {
                button.addEventListener('click', function() {
                    this.parentElement.style.display = 'none';
                });
            });
        });
    </script>

</body>
</html>